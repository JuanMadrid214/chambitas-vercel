<div *ngIf="mostrarFormulario" class="container py-4">
  <h2 class="mb-4">Publicar nuevo trabajo</h2>

  <form (ngSubmit)="submit()" #formRef="ngForm">
    <div class="mb-3">
      <label class="form-label">Descripci√≥n del trabajo</label>
      <textarea class="form-control" rows="3" [(ngModel)]="descripcion" name="descripcion" required></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Subir imagen del trabajo</label>
      <input class="form-control" type="file" (change)="onFileSelected($event)" accept="image/*" required />
    </div>

    <div class="mb-3">
      <label class="form-label">Vista previa:</label><br />
      <img *ngIf="previewUrl" [src]="previewUrl" class="img-fluid rounded shadow" style="max-height: 200px;" />
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!formRef.form.valid || isUploading">
      {{ isUploading ? 'Subiendo...' : 'Publicar' }}
    </button>
  </form>
</div>
