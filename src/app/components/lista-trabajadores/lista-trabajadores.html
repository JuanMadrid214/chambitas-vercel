<div class="container mt-5">
    <a (click)="Regreso()" class="btn btn-outline-primary mb-4 d-inline-flex align-items-center gap-2">
    <i class="bi bi-arrow-left" rou></i> Regresar
  </a>
  <h2>Lista de Trabajadores</h2>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Email</th>
        <th>Teléfono</th>
        <th>CURP</th>
        <th>Usuario</th>
        <th>RFC</th>
        <th>Especialidad</th>
        <th>Código Postal</th>
        <th>Zona</th>
        <th>INE</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let t of trabajadores">
        <ng-container *ngIf="editandoId !== t.id; else editForm">
          <td>{{ t.nombre }}</td>
          <td>{{ t.email }}</td>
          <td>{{ t.telefono }}</td>
          <td>{{ t.curp }}</td>
          <td>{{ t.usuario }}</td>
          <td>{{ t.rfc }}</td>
          <td>{{ t.especialidad }}</td>
          <td>{{ t.codigo_postal }}</td>
          <td>{{ t.zona }}</td>
          <td><a [href]="t.ine_url" target="_blank">Ver</a></td>
          <td>
            <button class="btn btn-warning btn-sm" (click)="editar(t)">Editar</button>
            <button class="btn btn-danger btn-sm" (click)="eliminar(t.id)">Eliminar</button>
          </td>
        </ng-container>

        <ng-template #editForm>
          <td><input [(ngModel)]="editedData.nombre" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.email" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.telefono" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.curp" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.usuario" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.rfc" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.especialidad" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.codigo_postal" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.zona" class="form-control" /></td>
          <td><input [(ngModel)]="editedData.ine_url" class="form-control" /></td>
          <td>
            <button class="btn btn-success btn-sm" (click)="guardar(t.id)">Guardar</button>
            <button class="btn btn-secondary btn-sm" (click)="cancelar()">Cancelar</button>
          </td>
        </ng-template>
      </tr>
    </tbody>
  </table>
</div>
